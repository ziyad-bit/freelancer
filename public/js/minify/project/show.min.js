(()=>{function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,c,a=[],l=!0,i=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=u.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{if(!l&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(i)throw o}}return a}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var r=document.querySelector(".edit_btn");r&&(r.onclick=function(){var t=document.querySelector(".price_input"),r=document.querySelector(".num_of_days_input"),n=document.querySelector(".content_input"),o=document.querySelector(".price"),u=document.querySelector(".num_of_days"),c=document.querySelector(".content");t.value=o.textContent,r.value=u.textContent,n.value=c.textContent,document.querySelector(".update_btn").onclick=function(){var a=document.querySelector("#update_url").value,l=document.getElementById("proposal_form"),i=new FormData(l);axios.post(a,i).then((function(e){if(200==e.status){var a=e.data.success;document.querySelector(".errors").style.display="none";var l=document.querySelector(".success_msg");l.textContent=a,l.style.display="",o.textContent=t.value,u.textContent=r.value,c.textContent=n.value}})).catch((function(t){var r=t.response;if(422==r.status)for(var n=r.data.errors,o=0,u=Object.entries(n);o<u.length;o++){var c=e(u[o],2),a=c[0],l=c[1],i=document.getElementById(a+"_err");i.textContent=l[0],i.style.display=""}}))}},document.querySelector(".delete_btn").onclick=function(){var e=document.querySelector("#delete_url").value;axios.delete(e).then((function(e){if(200==e.status){var t=e.data.success,r=document.querySelector(".delete_msg");r.textContent=t,r.style.display="",document.querySelector(".proposal").remove()}}))}),window.onscroll=function(){var e=document.querySelector("#proposal_wrapper"),t=e.getAttribute("data-cursor");if(window.scrollY+window.innerHeight-16>=document.body.clientHeight&&"false"!=t){var r=e.getAttribute("data-show_url");axios.get(r+"?cursor=".concat(t)).then((function(t){if(200==t.status){var r=t.data.view,n=t.data.cursor;e.setAttribute("data-cursor",n),e.insertAdjacentHTML("beforeend",r)}}))}}})();
